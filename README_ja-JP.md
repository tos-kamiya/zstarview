# zstarview ğŸŒŒ

é›²ãŒã‚ã£ã¦ã‚‚ã€å¤ªé™½ãŒå‡ºã¦ã„ã¦ã‚‚ã€æº€å¤©ã®æ˜Ÿç©ºã‚’ã€‚

Zenith Star View ã¯ã€åœ°çƒä¸Šã®ä»»æ„ã®éƒ½å¸‚ã‚’æŒ‡å®šã—ã¦ã€é ­ä¸Šã®æ˜Ÿç©ºã‚’æç”»ã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

- æ˜ã‚‹ã„æ’æ˜Ÿã€æƒ‘æ˜Ÿã€å¤©ã®èµ¤é“ã€é»„é“ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æç”»
- éƒ½å¸‚åã§å ´æ‰€ã‚’æŒ‡å®šå¯èƒ½ï¼ˆGeoNames åéŒ²ï¼‰

![](docs/images/screenshot1.png)

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ï¼ˆæ¨å¥¨ï¼š`pipx`ï¼‰

[`pipx`](https://pypa.github.io/pipx/) ã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æƒ³å®šã§ã™ã€‚

```bash
pipx install git+https://github.com/tos-kamiya/zstarview.git
```

## ä½¿ã„æ–¹

```bash
zstarview [options] [city]
```

### å¼•æ•°

| å¼•æ•°     | èª¬æ˜                                                          | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ              |
| :----- | :---------------------------------------------------------- | :----------------- |
| `city` | è¡¨ç¤ºã™ã‚‹éƒ½å¸‚åã‚’æŒ‡å®šã—ã¾ã™ã€‚çœç•¥æ™‚ã¯å‰å›èµ·å‹•æ™‚ã®éƒ½å¸‚ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚åˆå›èµ·å‹•æ™‚ã«çœç•¥ã™ã‚‹ã¨ `Tokyo` ã«ãªã‚Šã¾ã™ã€‚ | å‰å›ã®éƒ½å¸‚ï¼ˆåˆå›ã¯ `Tokyo`ï¼‰ |

### ã‚ªãƒ—ã‚·ãƒ§ãƒ³

| ã‚ªãƒ—ã‚·ãƒ§ãƒ³                                       | èª¬æ˜                                            | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ  |
| :------------------------------------------ | :-------------------------------------------- | :----- |
| `-h`, `--help`                              | ãƒ˜ãƒ«ãƒ—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¦çµ‚äº†ã—ã¾ã™ã€‚                           |        |
| `-H`, `--hours HOURS`                       | ç¾åœ¨æ™‚åˆ»ã«åŠ ç®—ã™ã‚‹æ™‚é–“æ•°ã‚’æŒ‡å®šã—ã¾ã™ã€‚                           | `0`    |
| `-D`, `--days DAYS`                         | ç¾åœ¨æ™‚åˆ»ã«åŠ ç®—ã™ã‚‹æ—¥æ•°ã‚’æŒ‡å®šã—ã¾ã™ã€‚                            | `0`    |
| `-m`, `--enlarge-moon`                      | æœˆã‚’3å€ã®å¤§ãã•ã§è¡¨ç¤ºã—ã¾ã™ã€‚                               |        |
| `-s`, `--star-base-radius STAR_BASE_RADIUS` | æ˜Ÿã®åŸºæœ¬ã‚µã‚¤ã‚ºã‚’æŒ‡å®šã—ã¾ã™ã€‚                                | `15.0` |
| `-Z`, `--view-center-az VIEW_CENTER_AZ`     | è¡¨ç¤ºä¸­å¿ƒã®æ–¹ä½è§’ã‚’åº¦å˜ä½ã§æŒ‡å®šã—ã¾ã™ (0=åŒ—, 90=æ±, 180=å—, 270=è¥¿)ã€‚ | `180`  |
| `-A`, `--view-center-alt VIEW_CENTER_ALT`   | è¡¨ç¤ºä¸­å¿ƒã®é«˜åº¦ã‚’åº¦å˜ä½ã§æŒ‡å®šã—ã¾ã™ (90=å¤©é ‚, 0=åœ°å¹³ç·š)ã€‚             | `90`   |
| `-V`, `--vmag-threshold V_MAG_THRESHOLD`    | è¡¨ç¤ºã™ã‚‹æ’æ˜Ÿã®ç­‰ç´šï¼ˆæ˜ã‚‹ã•ï¼‰ã®ä¸Šé™ã‚’æŒ‡å®šã—ã¾ã™ã€‚                      | `7.0`  |

**è¡¨ç¤ºä¸­å¿ƒã«é–¢ã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦**

`-Z`ï¼ˆæ–¹ä½è§’ï¼‰ã¨ `-A`ï¼ˆé«˜åº¦ï¼‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã€ç”»é¢ã®è¡¨ç¤ºä¸­å¿ƒã‚’æŒ‡å®šã§ãã¾ã™ã€‚

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€`-Z 180`ï¼ˆå—å‘ãï¼‰ã€`-A 90`ï¼ˆå¤©é ‚ï¼‰ã§ã™ã€‚ç”»é¢ä¸‹ãŒå—ã€ç”»é¢å·¦ãŒæ±ã§ã€å¤©é ‚ã‚’è¦‹ä¸Šã’ãŸã‚ˆã†ãªå††å½¢ã®è¡¨ç¤ºã«ãªã‚Šã¾ã™ã€‚

ä¾‹ãˆã°ã€`-Z 90` ï¼ˆæ±å‘ãï¼‰ã€`-A 10` ï¼ˆé«˜åº¦10åº¦ï¼åœ°é¢ã‹ã‚‰10åº¦è¦‹ä¸Šã’ã‚‹ï¼‰ã«ã™ã‚‹ã¨ã€ãŠãŠã‚ˆãåŠå††å‹ã§æ˜Ÿç©ºãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚  
â†’ æ±ã®ç©ºã« [å¤ã®å¤§ä¸‰è§’ï¼ˆãƒ™ã‚¬ã€ã‚¢ãƒ«ã‚¿ã‚¤ãƒ«ã€ãƒ‡ãƒãƒ–ï¼‰](docs/images/screenshot2.png) ã‚’æ‰ãˆãŸè¡¨ç¤º

**ç­‰ç´šã®ä¸Šé™ã«é–¢ã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦**

`-V ç­‰ç´š` ã§æŒ‡å®šã—ãŸç­‰ç´šã¾ã§ã®æ˜ã‚‹ã•ã®æ˜Ÿã‚’æç”»ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ `-V 7.0` ã§ã™ã€‚ä¾‹ãˆã°ã€8.0ç­‰ç´šã‚’æŒ‡å®šã™ã‚‹ã¨ã€ç´„4ä¸‡1åƒå€‹ã®æ˜ŸãŒæç”»ã•ã‚Œã¾ã™ã€‚ã“ã®å€¤ãŒå¤§ãã„ã¨å‡¦ç†ãŒé‡ããªã‚Šã¾ã™ã€‚

â†’ [8.0ç­‰ç´š](docs/images/screenshot3.png) ã¾ã§è¡¨ç¤º

### ã‚­ãƒ¼æ“ä½œ

* **F11**: ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³è¡¨ç¤ºã®åˆ‡ã‚Šæ›¿ãˆ
* **ESC**: ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‹ã‚‰å¾©å¸°
* **Q**: çµ‚äº†

## `.desktop` ãƒ©ãƒ³ãƒãƒ£ãƒ¼ã®ç”Ÿæˆï¼ˆGNOMEå°‚ç”¨ï¼‰

GNOMEç³»ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç’°å¢ƒï¼ˆUbuntu Dock ã‚„ DockToPanel ã‚’å«ã‚€ï¼‰ã§ã¯ã€
ã‚¿ã‚¹ã‚¯ãƒãƒ¼ã«æ­£ã—ã„ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã« `.desktop` ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¿…è¦ã§ã™ã€‚
æœ¬ã‚¢ãƒ—ãƒªã«ã¯ã“ã‚Œã‚’ç”Ÿæˆã™ã‚‹è£œåŠ©ã‚³ãƒãƒ³ãƒ‰ãŒä»˜å±ã—ã¦ã„ã¾ã™ã€‚

```bash
# ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« zstarview.desktop ã‚’ä½œæˆ
zstarview-make-desktop-file

# ~/.local/share/applications ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
zstarview-make-desktop-file --write
```

* `--write` ã‚’ä»˜ã‘ãªã„å ´åˆã¯ã€ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« `zstarview.desktop` ãŒä½œæˆã•ã‚Œã¾ã™ã€‚
* `--write` ã‚’ä»˜ã‘ã‚‹ã¨ `~/.local/share/applications` ã«æ›¸ãè¾¼ã¿ã€ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ç™»éŒ²ã—ã¾ã™ã€‚

> **æ³¨:** ã“ã®ãƒ©ãƒ³ãƒãƒ£ãƒ¼æ©Ÿèƒ½ã¯ GNOME ç³»ç’°å¢ƒå°‚ç”¨ã§ã™ã€‚
> ä»–ã®ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç’°å¢ƒã§ã¯ä¸è¦ã€ã¾ãŸã¯æ­£ã—ãå‹•ä½œã—ãªã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚

## ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

* Python 3.10+
* [`appdirs`](https://pypi.org/project/appdirs/)
* [`PyQt5`](https://pypi.org/project/PyQt5/)
* [`astropy`](https://pypi.org/project/astropy/)
* [`skyfield`](https://pypi.org/project/skyfield/)
* [`numpy`](https://pypi.org/project/numpy/)
* [`Pillow`](https://pypi.org/project/Pillow/)

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã¯ [MIT](LICENSE.txt) ã®ä¸‹ã§æä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚

ãŸã ã—ã€ **åŒæ¢±ã•ã‚Œã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿** ã¯ãã‚Œãã‚Œã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã«å¾“ã£ã¦å†é…å¸ƒã•ã‚Œã¾ã™ã€‚

| ãƒ•ã‚¡ã‚¤ãƒ«                                         | å†…å®¹                                               | å‡ºå…¸                                                                       | ãƒ©ã‚¤ã‚»ãƒ³ã‚¹                                                                                                                      |
| ------------------------------------------------ | -------------------------------------------------- | -------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------- |
| `data/cities1000.txt`                            | äººå£1000äººä»¥ä¸Šã®éƒ½å¸‚ä¸€è¦§                           | [GeoNames](https://download.geonames.org/export/dump/)                     | [CC BY 4.0](https://creativecommons.org/licenses/by/4.0/)                                                                       |
| `data/stars/hip_main.dat`                                   | Hipparcos ãŠã‚ˆã³ Tycho ã‚«ã‚¿ãƒ­ã‚°ï¼ˆESA 1997ï¼‰        | [CDS Strasbourg](https://cdsarc.cds.unistra.fr/ftp/I/239/)                 | [ODbL](https://www.data.gouv.fr/licences) ã¾ãŸã¯ [CC BY-NC 3.0 IGO](https://creativecommons.org/licenses/by-nc/3.0/igo/)ï¼ˆéå•†ç”¨ï¼‰ |
| `data/stars/IAU-Catalog-of-Star-Names.csv`             | IAU æ’æ˜Ÿåä½œæ¥­éƒ¨ä¼š (WGSN) ã«ã‚ˆã‚‹æ’æ˜Ÿå›ºæœ‰åã‚«ã‚¿ãƒ­ã‚° | [exopla.net](https://exopla.net/star-names/modern-iau-star-names/)         | [CC BY 4.0](https://creativecommons.org/licenses/by/4.0/)                                                                       |
| `data/NotoSansSymbols-VariableFont_wght.ttf`     | æƒ‘æ˜Ÿè¨˜å·è¡¨ç¤ºç”¨ãƒ•ã‚©ãƒ³ãƒˆ                             | [Google Fonts](https://fonts.google.com/noto/specimen/Noto+Sans+Symbols)   | [SIL Open Font License 1.1](https://openfontlicense.org)                                                                        |

## ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆ

* å¤©æ–‡ãƒ‡ãƒ¼ã‚¿ã‚’æä¾›ã—ã¦ã„ãŸã ã„ã¦ã„ã‚‹ CDS Strasbourg ãŠã‚ˆã³ ESA Hipparcos Mission ã«æ„Ÿè¬ã—ã¾ã™ã€‚
* éƒ½å¸‚ãƒ‡ãƒ¼ã‚¿ã¯ GeoNames ã«åŸºã¥ã„ã¦ã„ã¾ã™ã€‚
* æ’æ˜Ÿã®å›ºæœ‰åã¯ IAU æ’æ˜Ÿåä½œæ¥­éƒ¨ä¼š (WGSN) ã«ã‚ˆã‚‹æ‰¿èªæ¸ˆã¿ãƒªã‚¹ãƒˆï¼ˆ[exopla.net](https://exopla.net/star-names/modern-iau-star-names/) çµŒç”±ï¼‰ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚
* ãƒ•ã‚©ãƒ³ãƒˆã¯ Google Noto Project ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚
* ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚¿ã‚¤ãƒˆãƒ«ã€ŒZenith Star Viewã€ã¯ ChatGPT ã®ææ¡ˆã«ç”±æ¥ã—ã¾ã™ã€‚
* Gemini ãŠã‚ˆã³ ChatGPT ã«ã€ä»•æ§˜ã®ç›¸è«‡ã€ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã€ãƒ‡ãƒãƒƒã‚°ãªã©ã€å¤šãã®åŠ©åŠ›ã‚’ã„ãŸã ãã¾ã—ãŸã€‚
